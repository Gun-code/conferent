import{_ as h,U as C,a as g,r as R}from"./index-DLxo1fU2.js";import{B as k}from"./BaseButton-DyjRtvra.js";import{f as E}from"./date-zoLOQ5-X.js";import{j as D,w as d,r as u,o as i,b as s,c as r,g as v,a as c,t as a,f as m,F as N,k as T,n as B}from"./vendor-CfKmPEc8.js";import"./utils-Dq7h7Pqt.js";const b={name:"RoomDetail",components:{UserLayout:C,BaseButton:k},data(){return{room:null,todayReservations:[],loading:!1,error:null}},mounted(){this.loadRoom(),this.loadTodayReservations()},methods:{async loadRoom(){this.loading=!0,this.error=null;try{const t=this.$route.params.id,o=await R.getRoom(t);this.room=o.data}catch(t){this.error="회의실 정보를 불러오는데 실패했습니다.",console.error("Failed to load room:",t)}finally{this.loading=!1}},async loadTodayReservations(){try{const t=this.$route.params.id,o=new Date().toISOString().split("T")[0],p=await g.getRentsByRoomAndDate(t,o);this.todayReservations=p.data}catch(t){console.error("Failed to load reservations:",t)}},formatTime(t){return E(t,"time")},getStatusClass(t){return{PENDING:"status-pending",CONFIRMED:"status-confirmed",CANCELLED:"status-cancelled",COMPLETED:"status-completed"}[t]||""},getStatusText(t){return{PENDING:"대기중",CONFIRMED:"확정",CANCELLED:"취소",COMPLETED:"완료"}[t]||t},handleEditRoom(){this.$router.push(`/rooms/${this.room.id}/edit`)},handleReserveRoom(){this.$router.push({path:"/reservations/create",query:{roomId:this.room.id}})}}},L={class:"room-detail"},x={key:0,class:"room-detail__loading"},I={key:1,class:"room-detail__error"},S={key:2,class:"room-detail__content"},F={class:"room-detail__header"},w={class:"room-detail__breadcrumb"},A={class:"breadcrumb-current"},O={class:"room-detail__actions"},M={class:"room-detail__info"},P={class:"room-detail__main"},U={class:"room-detail__title"},V={class:"room-detail__meta"},z={class:"room-detail__location"},G={class:"room-detail__capacity"},j={key:0,class:"room-detail__description"},q={class:"room-detail__reservations"},H={key:0,class:"no-reservations"},J={key:1,class:"reservations-list"},K={class:"reservation-time"},Q={class:"reservation-info"},W={class:"reservation-title"},X={class:"reservation-organizer"},Y={class:"reservation-status"};function Z(t,o,p,$,e,n){const _=u("BaseButton"),y=u("router-link"),f=u("UserLayout");return i(),D(f,null,{default:d(()=>[s("div",L,[e.loading?(i(),r("div",x,o[0]||(o[0]=[s("p",null,"회의실 정보를 불러오는 중...",-1)]))):e.error?(i(),r("div",I,[s("p",null,a(e.error),1),c(_,{variant:"primary",onClick:n.loadRoom},{default:d(()=>o[1]||(o[1]=[m(" 다시 시도 ")])),_:1,__:[1]},8,["onClick"])])):e.room?(i(),r("div",S,[s("div",F,[s("div",w,[c(y,{to:"/rooms",class:"breadcrumb-link"},{default:d(()=>o[2]||(o[2]=[m("회의실 목록")])),_:1,__:[2]}),o[3]||(o[3]=s("span",{class:"breadcrumb-separator"},">",-1)),s("span",A,a(e.room.name),1)]),s("div",O,[c(_,{variant:"secondary",onClick:n.handleEditRoom},{default:d(()=>o[4]||(o[4]=[m(" 수정 ")])),_:1,__:[4]},8,["onClick"]),c(_,{variant:"primary",onClick:n.handleReserveRoom},{default:d(()=>o[5]||(o[5]=[m(" 예약하기 ")])),_:1,__:[5]},8,["onClick"])])]),s("div",M,[s("div",P,[s("h1",U,a(e.room.name),1),s("div",V,[s("span",z,"📍 "+a(e.room.location),1),s("span",G,"👥 최대 "+a(e.room.capacity)+"명",1)]),e.room.description?(i(),r("p",j,a(e.room.description),1)):v("",!0)]),o[6]||(o[6]=s("div",{class:"room-detail__image"},[s("div",{class:"room-image-placeholder"}," 🏢 ")],-1))]),o[9]||(o[9]=s("div",{class:"room-detail__facilities"},[s("h2",{class:"section-title"},"시설 및 장비"),s("div",{class:"facilities-grid"},[s("div",{class:"facility-item"},[s("span",{class:"facility-icon"},"📺"),s("span",{class:"facility-name"},"프로젝터")]),s("div",{class:"facility-item"},[s("span",{class:"facility-icon"},"💻"),s("span",{class:"facility-name"},"화상회의 시설")]),s("div",{class:"facility-item"},[s("span",{class:"facility-icon"},"📠"),s("span",{class:"facility-name"},"화이트보드")]),s("div",{class:"facility-item"},[s("span",{class:"facility-icon"},"☕"),s("span",{class:"facility-name"},"커피머신")])])],-1)),s("div",q,[o[8]||(o[8]=s("h2",{class:"section-title"},"오늘의 예약 현황",-1)),e.todayReservations.length===0?(i(),r("div",H,o[7]||(o[7]=[s("p",null,"오늘 예약이 없습니다.",-1)]))):(i(),r("div",J,[(i(!0),r(N,null,T(e.todayReservations,l=>(i(),r("div",{key:l.id,class:"reservation-item"},[s("div",K,a(n.formatTime(l.startTime))+" - "+a(n.formatTime(l.endTime)),1),s("div",Q,[s("h4",W,a(l.purpose),1),s("p",X,a(l.creatorName),1)]),s("div",Y,[s("span",{class:B(n.getStatusClass(l.status))},a(n.getStatusText(l.status)),3)])]))),128))]))])])):v("",!0)])]),_:1})}const is=h(b,[["render",Z],["__scopeId","data-v-7b8fc83a"]]);export{is as default};
//# sourceMappingURL=Detail-B5TXXIkM.js.map
