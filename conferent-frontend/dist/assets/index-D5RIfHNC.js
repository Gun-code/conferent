import{_ as g,U as k,r as p}from"./index-DLxo1fU2.js";import{B as R}from"./BaseButton-DyjRtvra.js";import{j as B,w as n,r as h,o as l,b as t,c as a,a as m,f as _,d as v,u as y,t as c,F,k as V,g as b}from"./vendor-CfKmPEc8.js";import"./utils-Dq7h7Pqt.js";const w={name:"RoomList",components:{UserLayout:k,BaseButton:R},data(){return{rooms:[],loading:!1,error:null,filters:{location:"",minCapacity:""}}},computed:{filteredRooms(){let e=[...this.rooms];if(this.filters.location&&(e=e.filter(o=>o.location===this.filters.location)),this.filters.minCapacity){const o=parseInt(this.filters.minCapacity);e=e.filter(f=>f.capacity>=o)}return e}},mounted(){this.loadRooms()},methods:{async loadRooms(){this.loading=!0,this.error=null;try{const e=await p.getAllRooms();this.rooms=e.data}catch(e){this.error="회의실 목록을 불러오는데 실패했습니다.",console.error("Failed to load rooms:",e)}finally{this.loading=!1}},handleFilterChange(){},handleCreateRoom(){this.$router.push("/rooms/create")},handleViewRoom(e){this.$router.push(`/rooms/${e.id}`)},handleEditRoom(e){this.$router.push(`/rooms/${e.id}/edit`)},async handleDeleteRoom(e){if(confirm(`정말로 "${e.name}" 회의실을 삭제하시겠습니까?`))try{await p.deleteRoom(e.id),this.rooms=this.rooms.filter(o=>o.id!==e.id)}catch(o){alert("회의실 삭제에 실패했습니다."),console.error("Failed to delete room:",o)}}}},x={class:"room-list"},U={class:"room-list__header"},L={class:"room-list__filters"},D={class:"room-list__filter-group"},N={class:"room-list__filter-group"},z={key:0,class:"room-list__loading"},E={key:1,class:"room-list__error"},A={key:2,class:"room-list__empty"},I={key:3,class:"room-list__grid"},S={class:"room-card__header"},j={class:"room-card__title"},M={class:"room-card__location"},T={class:"room-card__content"},q={class:"room-card__capacity"},G={key:0,class:"room-card__description"},H={class:"room-card__actions"};function J(e,o,f,K,r,i){const d=h("BaseButton"),C=h("UserLayout");return l(),B(C,null,{default:n(()=>[t("div",x,[t("div",U,[o[5]||(o[5]=t("h1",{class:"room-list__title"},"회의실 목록",-1)),m(d,{variant:"primary",onClick:i.handleCreateRoom},{default:n(()=>o[4]||(o[4]=[_(" 회의실 추가 ")])),_:1,__:[4]},8,["onClick"])]),t("div",L,[t("div",D,[o[7]||(o[7]=t("label",{for:"location-filter",class:"room-list__filter-label"},"위치",-1)),v(t("select",{id:"location-filter","onUpdate:modelValue":o[0]||(o[0]=s=>r.filters.location=s),class:"room-list__filter-select",onChange:o[1]||(o[1]=(...s)=>i.handleFilterChange&&i.handleFilterChange(...s))},o[6]||(o[6]=[t("option",{value:""},"전체",-1),t("option",{value:"3층"},"3층",-1),t("option",{value:"4층"},"4층",-1),t("option",{value:"5층"},"5층",-1)]),544),[[y,r.filters.location]])]),t("div",N,[o[9]||(o[9]=t("label",{for:"capacity-filter",class:"room-list__filter-label"},"최소 수용 인원",-1)),v(t("select",{id:"capacity-filter","onUpdate:modelValue":o[2]||(o[2]=s=>r.filters.minCapacity=s),class:"room-list__filter-select",onChange:o[3]||(o[3]=(...s)=>i.handleFilterChange&&i.handleFilterChange(...s))},o[8]||(o[8]=[t("option",{value:""},"전체",-1),t("option",{value:"2"},"2명 이상",-1),t("option",{value:"5"},"5명 이상",-1),t("option",{value:"10"},"10명 이상",-1),t("option",{value:"20"},"20명 이상",-1)]),544),[[y,r.filters.minCapacity]])])]),r.loading?(l(),a("div",z,o[10]||(o[10]=[t("p",null,"회의실 목록을 불러오는 중...",-1)]))):r.error?(l(),a("div",E,[t("p",null,c(r.error),1),m(d,{variant:"primary",onClick:i.loadRooms},{default:n(()=>o[11]||(o[11]=[_(" 다시 시도 ")])),_:1,__:[11]},8,["onClick"])])):i.filteredRooms.length===0?(l(),a("div",A,o[12]||(o[12]=[t("p",null,"조건에 맞는 회의실이 없습니다.",-1)]))):(l(),a("div",I,[(l(!0),a(F,null,V(i.filteredRooms,s=>(l(),a("div",{key:s.id,class:"room-card"},[t("div",S,[t("h3",j,c(s.name),1),t("span",M,c(s.location),1)]),t("div",T,[t("p",q," 수용 인원: "+c(s.capacity)+"명 ",1),s.description?(l(),a("p",G,c(s.description),1)):b("",!0)]),t("div",H,[m(d,{variant:"primary",size:"small",onClick:u=>i.handleViewRoom(s)},{default:n(()=>o[13]||(o[13]=[_(" 상세보기 ")])),_:2,__:[13]},1032,["onClick"]),m(d,{variant:"secondary",size:"small",onClick:u=>i.handleEditRoom(s)},{default:n(()=>o[14]||(o[14]=[_(" 수정 ")])),_:2,__:[14]},1032,["onClick"]),m(d,{variant:"danger",size:"small",onClick:u=>i.handleDeleteRoom(s)},{default:n(()=>o[15]||(o[15]=[_(" 삭제 ")])),_:2,__:[15]},1032,["onClick"])])]))),128))]))])]),_:1})}const X=g(w,[["render",J],["__scopeId","data-v-481b1abc"]]);export{X as default};
//# sourceMappingURL=index-D5RIfHNC.js.map
