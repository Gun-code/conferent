import{_ as h,U as g,r as y}from"./index-DLxo1fU2.js";import{B as k}from"./BaseButton-DyjRtvra.js";import{j as B,w as i,r as c,o as m,b as r,c as f,a,f as n,t as b,l as x,d,v as u}from"./vendor-CfKmPEc8.js";import"./utils-Dq7h7Pqt.js";const C={name:"RoomEdit",components:{UserLayout:g,BaseButton:k},data(){return{room:null,loading:!1,saving:!1,error:null,form:{name:"",location:"",capacity:"",description:""}}},computed:{roomId(){return this.$route.params.id}},mounted(){this.loadRoom()},methods:{async loadRoom(){this.loading=!0,this.error=null;try{const e=await y.getRoom(this.roomId);this.room=e.data,this.form={name:this.room.name,location:this.room.location,capacity:this.room.capacity,description:this.room.description||""}}catch(e){this.error="회의실 정보를 불러오는데 실패했습니다.",console.error("Failed to load room:",e)}finally{this.loading=!1}},async handleSubmit(){this.saving=!0;try{await y.updateRoom(this.roomId,this.form),this.$router.push(`/rooms/${this.roomId}`)}catch(e){alert("회의실 수정에 실패했습니다."),console.error("Failed to update room:",e)}finally{this.saving=!1}},handleCancel(){this.$router.push(`/rooms/${this.roomId}`)}}},U={class:"room-edit"},w={class:"room-edit__header"},I={class:"room-edit__breadcrumb"},V={key:0,class:"room-edit__loading"},R={key:1,class:"room-edit__error"},S={key:2,class:"room-edit__form"},q={class:"form-group"},E={class:"form-group"},L={class:"form-group"},N={class:"form-group"},D={class:"form-actions"};function F(e,o,M,T,t,l){const _=c("router-link"),p=c("BaseButton"),v=c("UserLayout");return m(),B(v,null,{default:i(()=>[r("div",U,[r("div",w,[r("div",I,[a(_,{to:"/rooms",class:"breadcrumb-link"},{default:i(()=>o[5]||(o[5]=[n("회의실 목록")])),_:1,__:[5]}),o[6]||(o[6]=r("span",{class:"breadcrumb-separator"},">",-1)),a(_,{to:`/rooms/${l.roomId}`,class:"breadcrumb-link"},{default:i(()=>{var s;return[n(b(((s=t.room)==null?void 0:s.name)||"회의실"),1)]}),_:1},8,["to"]),o[7]||(o[7]=r("span",{class:"breadcrumb-separator"},">",-1)),o[8]||(o[8]=r("span",{class:"breadcrumb-current"},"수정",-1))]),o[9]||(o[9]=r("h1",{class:"room-edit__title"},"회의실 수정",-1))]),t.loading?(m(),f("div",V,o[10]||(o[10]=[r("p",null,"회의실 정보를 불러오는 중...",-1)]))):t.error?(m(),f("div",R,[r("p",null,b(t.error),1),a(p,{variant:"primary",onClick:l.loadRoom},{default:i(()=>o[11]||(o[11]=[n(" 다시 시도 ")])),_:1,__:[11]},8,["onClick"])])):(m(),f("div",S,[r("form",{onSubmit:o[4]||(o[4]=x((...s)=>l.handleSubmit&&l.handleSubmit(...s),["prevent"]))},[r("div",q,[o[12]||(o[12]=r("label",{for:"name",class:"form-label"},"회의실 이름 *",-1)),d(r("input",{id:"name","onUpdate:modelValue":o[0]||(o[0]=s=>t.form.name=s),type:"text",class:"form-input",required:"",placeholder:"회의실 이름을 입력하세요"},null,512),[[u,t.form.name]])]),r("div",E,[o[13]||(o[13]=r("label",{for:"location",class:"form-label"},"위치 *",-1)),d(r("input",{id:"location","onUpdate:modelValue":o[1]||(o[1]=s=>t.form.location=s),type:"text",class:"form-input",required:"",placeholder:"예: 3층, 4층"},null,512),[[u,t.form.location]])]),r("div",L,[o[14]||(o[14]=r("label",{for:"capacity",class:"form-label"},"수용 인원 *",-1)),d(r("input",{id:"capacity","onUpdate:modelValue":o[2]||(o[2]=s=>t.form.capacity=s),type:"number",class:"form-input",required:"",min:"1",placeholder:"수용 인원을 입력하세요"},null,512),[[u,t.form.capacity,void 0,{number:!0}]])]),r("div",N,[o[15]||(o[15]=r("label",{for:"description",class:"form-label"},"설명",-1)),d(r("textarea",{id:"description","onUpdate:modelValue":o[3]||(o[3]=s=>t.form.description=s),class:"form-textarea",rows:"4",placeholder:"회의실에 대한 설명을 입력하세요"},null,512),[[u,t.form.description]])]),r("div",D,[a(p,{type:"button",variant:"secondary",onClick:l.handleCancel},{default:i(()=>o[16]||(o[16]=[n(" 취소 ")])),_:1,__:[16]},8,["onClick"]),a(p,{type:"submit",variant:"primary",disabled:t.saving},{default:i(()=>[n(b(t.saving?"저장 중...":"수정 완료"),1)]),_:1},8,["disabled"])])],32)]))])]),_:1})}const H=h(C,[["render",F],["__scopeId","data-v-9ba58009"]]);export{H as default};
//# sourceMappingURL=Edit-Bb5F7Pp-.js.map
