{"version":3,"file":"index-DiG0S0l0.js","sources":["../../src/pages/reservations/index.vue"],"sourcesContent":["<template>\r\n  <UserLayout>\r\n    <div class=\"reservation-list\">\r\n      <div class=\"reservation-list__header\">\r\n        <h1 class=\"reservation-list__title\">예약 목록</h1>\r\n        <BaseButton \r\n          variant=\"primary\" \r\n          @click=\"handleCreateReservation\"\r\n        >\r\n          예약하기\r\n        </BaseButton>\r\n      </div>\r\n\r\n      <div class=\"reservation-list__filters\">\r\n        <div class=\"reservation-list__filter-group\">\r\n          <label for=\"status-filter\" class=\"reservation-list__filter-label\">상태</label>\r\n          <select \r\n            id=\"status-filter\" \r\n            v-model=\"filters.status\"\r\n            class=\"reservation-list__filter-select\"\r\n            @change=\"handleFilterChange\"\r\n          >\r\n            <option value=\"\">전체</option>\r\n            <option value=\"PENDING\">대기중</option>\r\n            <option value=\"CONFIRMED\">확정</option>\r\n            <option value=\"CANCELLED\">취소</option>\r\n            <option value=\"COMPLETED\">완료</option>\r\n          </select>\r\n        </div>\r\n\r\n        <div class=\"reservation-list__filter-group\">\r\n          <label for=\"date-filter\" class=\"reservation-list__filter-label\">날짜</label>\r\n          <input\r\n            id=\"date-filter\"\r\n            v-model=\"filters.date\"\r\n            type=\"date\"\r\n            class=\"reservation-list__filter-input\"\r\n            @change=\"handleFilterChange\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <div v-if=\"loading\" class=\"reservation-list__loading\">\r\n        <p>예약 목록을 불러오는 중...</p>\r\n      </div>\r\n\r\n      <div v-else-if=\"error\" class=\"reservation-list__error\">\r\n        <p>{{ error }}</p>\r\n        <BaseButton \r\n          variant=\"primary\" \r\n          @click=\"loadReservations\"\r\n        >\r\n          다시 시도\r\n        </BaseButton>\r\n      </div>\r\n\r\n      <div v-else-if=\"filteredReservations.length === 0\" class=\"reservation-list__empty\">\r\n        <p>조건에 맞는 예약이 없습니다.</p>\r\n      </div>\r\n\r\n      <div v-else class=\"reservation-list__grid\">\r\n        <div \r\n          v-for=\"reservation in filteredReservations\" \r\n          :key=\"reservation.id\"\r\n          class=\"reservation-card\"\r\n        >\r\n          <div class=\"reservation-card__header\">\r\n            <h3 class=\"reservation-card__title\">{{ reservation.purpose }}</h3>\r\n            <span :class=\"getStatusClass(reservation.status)\">\r\n              {{ getStatusText(reservation.status) }}\r\n            </span>\r\n          </div>\r\n          \r\n          <div class=\"reservation-card__content\">\r\n            <div class=\"reservation-card__info\">\r\n              <p class=\"reservation-card__room\">\r\n                <strong>회의실:</strong> {{ reservation.roomName }}\r\n              </p>\r\n              <p class=\"reservation-card__time\">\r\n                <strong>시간:</strong> {{ formatDateTime(reservation.startTime) }} - {{ formatTime(reservation.endTime) }}\r\n              </p>\r\n              <p class=\"reservation-card__creator\">\r\n                <strong>예약자:</strong> {{ reservation.creatorName }}\r\n              </p>\r\n            </div>\r\n          </div>\r\n          \r\n          <div class=\"reservation-card__actions\">\r\n            <BaseButton \r\n              variant=\"primary\" \r\n              size=\"small\"\r\n              @click=\"handleViewReservation(reservation)\"\r\n            >\r\n              상세보기\r\n            </BaseButton>\r\n            <BaseButton \r\n              v-if=\"canEdit(reservation)\"\r\n              variant=\"secondary\" \r\n              size=\"small\"\r\n              @click=\"handleEditReservation(reservation)\"\r\n            >\r\n              수정\r\n            </BaseButton>\r\n            <BaseButton \r\n              v-if=\"canCancel(reservation)\"\r\n              variant=\"danger\" \r\n              size=\"small\"\r\n              @click=\"handleCancelReservation(reservation)\"\r\n            >\r\n              취소\r\n            </BaseButton>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </UserLayout>\r\n</template>\r\n\r\n<script>\r\nimport UserLayout from '@/layouts/UserLayout.vue'\r\nimport BaseButton from '@/components/base/BaseButton.vue'\r\nimport { rentApiClient } from '@/api'\r\nimport { formatDate } from '@/utils/date'\r\n\r\nexport default {\r\n  name: 'ReservationList',\r\n  components: {\r\n    UserLayout,\r\n    BaseButton\r\n  },\r\n  data() {\r\n    return {\r\n      reservations: [],\r\n      loading: false,\r\n      error: null,\r\n      filters: {\r\n        status: '',\r\n        date: ''\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    filteredReservations() {\r\n      let filtered = [...this.reservations]\r\n      \r\n      if (this.filters.status) {\r\n        filtered = filtered.filter(reservation => \r\n          reservation.status === this.filters.status\r\n        )\r\n      }\r\n      \r\n      if (this.filters.date) {\r\n        filtered = filtered.filter(reservation => \r\n          reservation.startTime.startsWith(this.filters.date)\r\n        )\r\n      }\r\n      \r\n      return filtered.sort((a, b) => new Date(b.startTime) - new Date(a.startTime))\r\n    }\r\n  },\r\n  mounted() {\r\n    this.loadReservations()\r\n  },\r\n  methods: {\r\n    async loadReservations() {\r\n      this.loading = true\r\n      this.error = null\r\n      \r\n      try {\r\n        const response = await rentApiClient.getAllRents()\r\n        this.reservations = response.data\r\n      } catch (err) {\r\n        this.error = '예약 목록을 불러오는데 실패했습니다.'\r\n        console.error('Failed to load reservations:', err)\r\n      } finally {\r\n        this.loading = false\r\n      }\r\n    },\r\n    \r\n    handleFilterChange() {\r\n      // 필터 변경 시 추가 로직이 필요한 경우 여기에 구현\r\n    },\r\n    \r\n    formatDateTime(dateString) {\r\n      return formatDate(dateString, 'datetime')\r\n    },\r\n    \r\n    formatTime(dateString) {\r\n      return formatDate(dateString, 'time')\r\n    },\r\n    \r\n    getStatusClass(status) {\r\n      const classes = {\r\n        PENDING: 'status-pending',\r\n        CONFIRMED: 'status-confirmed',\r\n        CANCELLED: 'status-cancelled',\r\n        COMPLETED: 'status-completed'\r\n      }\r\n      return `reservation-card__status ${classes[status] || ''}`\r\n    },\r\n    \r\n    getStatusText(status) {\r\n      const texts = {\r\n        PENDING: '대기중',\r\n        CONFIRMED: '확정',\r\n        CANCELLED: '취소',\r\n        COMPLETED: '완료'\r\n      }\r\n      return texts[status] || status\r\n    },\r\n    \r\n    canEdit(reservation) {\r\n      // 예약자 본인이거나 관리자인 경우에만 수정 가능\r\n      return reservation.status === 'PENDING' || reservation.status === 'CONFIRMED'\r\n    },\r\n    \r\n    canCancel(reservation) {\r\n      // 예약자 본인이거나 관리자인 경우에만 취소 가능\r\n      return reservation.status === 'PENDING' || reservation.status === 'CONFIRMED'\r\n    },\r\n    \r\n    handleCreateReservation() {\r\n      this.$router.push('/reservations/create')\r\n    },\r\n    \r\n    handleViewReservation(reservation) {\r\n      this.$router.push(`/reservations/${reservation.id}`)\r\n    },\r\n    \r\n    handleEditReservation(reservation) {\r\n      this.$router.push(`/reservations/${reservation.id}/edit`)\r\n    },\r\n    \r\n    async handleCancelReservation(reservation) {\r\n      if (confirm(`정말로 이 예약을 취소하시겠습니까?`)) {\r\n        try {\r\n          await rentApiClient.cancelRent(reservation.id)\r\n          this.loadReservations() // 목록 새로고침\r\n        } catch (err) {\r\n          alert('예약 취소에 실패했습니다.')\r\n          console.error('Failed to cancel reservation:', err)\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.reservation-list__header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 2rem;\r\n}\r\n\r\n.reservation-list__title {\r\n  font-size: 2rem;\r\n  font-weight: 700;\r\n  color: #1f2937;\r\n  margin: 0;\r\n}\r\n\r\n.reservation-list__filters {\r\n  display: flex;\r\n  gap: 1rem;\r\n  margin-bottom: 2rem;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.reservation-list__filter-group {\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.5rem;\r\n}\r\n\r\n.reservation-list__filter-label {\r\n  font-weight: 500;\r\n  color: #374151;\r\n  font-size: 0.875rem;\r\n}\r\n\r\n.reservation-list__filter-select,\r\n.reservation-list__filter-input {\r\n  padding: 0.5rem;\r\n  border: 1px solid #d1d5db;\r\n  border-radius: 0.375rem;\r\n  background-color: white;\r\n  min-width: 150px;\r\n}\r\n\r\n.reservation-list__loading,\r\n.reservation-list__error,\r\n.reservation-list__empty {\r\n  text-align: center;\r\n  padding: 3rem 0;\r\n  color: #6b7280;\r\n}\r\n\r\n.reservation-list__grid {\r\n  display: grid;\r\n  gap: 1.5rem;\r\n}\r\n\r\n.reservation-card {\r\n  background-color: white;\r\n  border: 1px solid #e5e7eb;\r\n  border-radius: 0.5rem;\r\n  padding: 1.5rem;\r\n  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);\r\n  transition: box-shadow 0.2s ease-in-out;\r\n}\r\n\r\n.reservation-card:hover {\r\n  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.reservation-card__header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: flex-start;\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n.reservation-card__title {\r\n  font-size: 1.25rem;\r\n  font-weight: 600;\r\n  color: #1f2937;\r\n  margin: 0;\r\n}\r\n\r\n.reservation-card__status {\r\n  padding: 0.25rem 0.5rem;\r\n  border-radius: 0.25rem;\r\n  font-size: 0.875rem;\r\n  font-weight: 500;\r\n}\r\n\r\n.status-pending {\r\n  background-color: #fef3c7;\r\n  color: #92400e;\r\n}\r\n\r\n.status-confirmed {\r\n  background-color: #d1fae5;\r\n  color: #065f46;\r\n}\r\n\r\n.status-cancelled {\r\n  background-color: #fee2e2;\r\n  color: #991b1b;\r\n}\r\n\r\n.status-completed {\r\n  background-color: #e0e7ff;\r\n  color: #3730a3;\r\n}\r\n\r\n.reservation-card__content {\r\n  margin-bottom: 1.5rem;\r\n}\r\n\r\n.reservation-card__info p {\r\n  margin: 0.5rem 0;\r\n  color: #374151;\r\n}\r\n\r\n.reservation-card__actions {\r\n  display: flex;\r\n  gap: 0.5rem;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .reservation-list__header {\r\n    flex-direction: column;\r\n    gap: 1rem;\r\n    align-items: stretch;\r\n  }\r\n  \r\n  .reservation-list__title {\r\n    font-size: 1.5rem;\r\n    text-align: center;\r\n  }\r\n  \r\n  .reservation-list__filters {\r\n    flex-direction: column;\r\n  }\r\n}\r\n</style> "],"names":["_sfc_main","UserLayout","BaseButton","filtered","reservation","a","b","response","rentApiClient","err","dateString","formatDate","status","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_createBlock","_component_UserLayout","_createElementVNode","_cache","_createVNode","_component_BaseButton","$options","$event","$data","args","_vModelSelect","_vModelText","_openBlock","_createElementBlock","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_Fragment","_renderList","_toDisplayString","_normalizeClass","_createTextVNode"],"mappings":"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"}